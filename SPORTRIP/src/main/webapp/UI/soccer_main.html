<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>K-league</title>
<link rel="stylesheet" href="./assets/css/style.css">
    <script>
    	function goMain(){
    		document.location.href="mainPage.jsp";
    	}
    </script>
</head>
<body>
	<header class="header header_logo">
		<a style="cursor: pointer" onclick="goMain()"><img src="./assets/images/sportrip_logo.png" alt="sportrip 로고" id="logo_img"></a>

		<div class="league_info">
		<a href="soccer_main.html" style="margin-left: 50px;"><img src="./assets/images/k-league_logo.svg" alt="리그" id="league_logo_img"></a>
			<ul>
				<li><a href=""><img src="./assets/images/logo_img/1_강원.png" alt="강원" class="team_logo_img"></a></li>
				<li><a href="teamPage_Player.html"><img src="./assets/images/logo_img/2_울산HD.png" alt="울산" class="team_logo_img"></a></li>
				<li><a href=""><img src="./assets/images/logo_img/3_수원FC.png" alt="수원" class="team_logo_img"></a></li>
				<li><a href=""><img src="./assets/images/logo_img/4_김천상무.png" alt="김천" class="team_logo_img"></a></li>
				<li><a href=""><img src="./assets/images/logo_img/5_서울.png" alt="서울" class="team_logo_img"></a></li> 
				<li><a href=""><img src="./assets/images/logo_img/6_포항.png" alt="포항" class="team_logo_img"></a></li>
				<li><a href=""><img src="./assets/images/logo_img/7_광주.png" alt="광주" class="team_logo_img"></a></li>
				<li><a href=""><img src="./assets/images/logo_img/8_제주.png" alt="제주" class="team_logo_img"></a></li>
				<li><a href=""><img src="./assets/images/logo_img/9_대전.png" alt="대전" class="team_logo_img"></a></li>
				<li><a href=""><img src="./assets/images/logo_img/10_인천.png" alt="인천" class="team_logo_img"></a></li>
				<li><a href=""><img src="./assets/images/logo_img/11_전북.png" alt="전북" class="team_logo_img"></a></li>
				<li><a href=""><img src="./assets/images/logo_img/12_대구.png" alt="대구" class="team_logo_img"></a></li>
			</ul>
		</div>
	</header>
	<div class="top">
		<div class="item" style="background-color: #236FB5;">
			<a href="soccer_teamRank.html">팀 순위</a>
		</div>
		<div class="item" style="background-color: #236FB5;">
			<a href="soccer_teamHighlight.html">하이라이트 경기</a>
		</div>
		<div class="item" style="background-color: #236FB5;">
			<a href="">경기 일정</a>
		</div>
	</div>
	<p>
	<div class="outer">
		<div class="inner-list">
			<div class="inner">
				<img src="./assets/images/banner_img/banner_image1.png" alt="배너이미지1" id="banner_img">
			</div>
			<div class="inner">
				<img src="./assets/images/banner_img/banner_image2.png" alt="배너이미지2" id="banner_img">
			</div>
			<div class="inner">
				<img src="./assets/images/banner_img/banner_image3.png" alt="배너이미지3" id="banner_img">
			</div>
			<div class="inner">
				<img src="./assets/images/banner_img/banner_image4.png" alt="배너이미지4" id="banner_img">
			</div>
			<div class="inner">
				<img src="./assets/images/banner_img/banner_image5.png" alt="배너이미지5" id="banner_img">
			</div>
		</div>
		<div class="button-list">
			<button class="button-left">&lt;</button>
			<!-- '<' 기호 -->
			<button class="button-right">&gt;</button>
			<!-- '>' 기호 -->
		</div>
		<!-- 배너 인디케이터 -->
		<div class="indicator-list">
			<span class="indicator active"></span> 
			<span class="indicator"></span>
			<span class="indicator"></span> 
			<span class="indicator"></span> 
			<span class="indicator"></span>
		</div>
	</div>

	<script>
/*
  div 사이즈 동적으로 구하기
*/
const outer = document.querySelector('.outer');
const innerList = document.querySelector('.inner-list');
const inners = document.querySelectorAll('.inner');
let currentIndex = 0; // 현재 슬라이드 화면 인덱스

inners.forEach((inner) => {
  inner.style.width = `${outer.clientWidth}px`; // inner의 width를 모두 outer의 width로 만들기
});

innerList.style.width = `${outer.clientWidth * inners.length}px`; // innerList의 width를 inner의 width * inner의 개수로 만들기

const indicators = document.querySelectorAll('.indicator');

// 인디케이터 업데이트 함수
const updateIndicators = () => {
  indicators.forEach((indicator, index) => {
    indicator.classList.toggle('active', index === currentIndex);
  });
};

/*
  버튼에 이벤트 등록하기
*/
const buttonLeft = document.querySelector('.button-left');
const buttonRight = document.querySelector('.button-right');

buttonLeft.addEventListener('click', () => {
  currentIndex--;
  if (currentIndex < 0) {
    currentIndex = inners.length - 1; // 첫 번째 배너를 넘어가면 마지막 배너로 돌아감
  }
  innerList.style.marginLeft = `-${outer.clientWidth * currentIndex}px`; // index만큼 margin을 주어 옆으로 밀기
  clearInterval(interval); // 기존 동작되던 interval 제거
  interval = getInterval(); // 새로운 interval 등록
  updateIndicators(); // 인디케이터 업데이트
});

buttonRight.addEventListener('click', () => {
  currentIndex++;
  if (currentIndex >= inners.length) {
    currentIndex = 0; // 마지막 배너를 넘어가면 첫 번째 배너로 돌아감
  }
  innerList.style.marginLeft = `-${outer.clientWidth * currentIndex}px`; // index만큼 margin을 주어 옆으로 밀기
  clearInterval(interval); // 기존 동작되던 interval 제거
  interval = getInterval(); // 새로운 interval 등록
  updateIndicators(); // 인디케이터 업데이트
});

/*
  주기적으로 화면 넘기기
*/
const getInterval = () => {
  return setInterval(() => {
    currentIndex++;
    if (currentIndex >= inners.length) {
      currentIndex = 0; // 마지막 배너를 넘어가면 첫 번째 배너로 돌아감
    }
    innerList.style.marginLeft = `-${outer.clientWidth * currentIndex}px`;
    updateIndicators(); // 인디케이터 업데이트
  }, 2000);
}

let interval = getInterval(); // interval 등록
</script>
</body>
</html>